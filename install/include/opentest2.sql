-- phpMyAdmin SQL Dump
-- version 3.5.1
-- http://www.phpmyadmin.net
--
-- Хост: localhost
-- Версия PHP: 5.3.13

SET SQL_MODE="NO_AUTO_VALUE_ON_ZERO";
SET time_zone = "+00:00";


/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;

--
-- База данных: `opentest`
--

-- --------------------------------------------------------

--
-- Структура таблицы `answers`
--

CREATE TABLE IF NOT EXISTS `answers` (
  `answer_id` int(11) unsigned NOT NULL AUTO_INCREMENT,
  `question_id` int(11) unsigned NOT NULL DEFAULT '0',
  `answer_text` text COLLATE utf8_unicode_ci NOT NULL,
  `answer_sample` varchar(254) COLLATE utf8_unicode_ci NOT NULL DEFAULT '',
  `answer_true` tinyint(1) unsigned NOT NULL DEFAULT '0',
  `true_percent` tinyint(2) unsigned NOT NULL DEFAULT '0',
  `use_regexp` tinyint(1) NOT NULL,
  `serialized_regexp` text COLLATE utf8_unicode_ci NOT NULL,
  PRIMARY KEY (`answer_id`),
  KEY `question_id` (`question_id`),
  KEY `answer_true` (`answer_true`)
) ENGINE=MyISAM  DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci AUTO_INCREMENT=97 ;

--
-- Дамп данных таблицы `answers`
--

INSERT INTO `answers` (`answer_id`, `question_id`, `answer_text`, `answer_sample`, `answer_true`, `true_percent`, `use_regexp`, `serialized_regexp`) VALUES
(65, 19, '\n\n  <p><span style="font-family:&quot;Arial&quot;,&quot;sans-serif&quot;">\nНеправильный\n  ответ</span>\n</p>\n\n  ', '', 0, 0, 0, ''),
(63, 19, '\n\n  <p><span style="font-family:&quot;Arial&quot;,&quot;sans-serif&quot;">\nПравильный\n  ответ</span>\n</p>\n\n  ', '', 1, 0, 0, ''),
(64, 19, '\n\n  <p><span style="font-family:&quot;Arial&quot;,&quot;sans-serif&quot;">\nПравильный\n  ответ</span>\n</p>\n\n  ', '', 1, 0, 0, ''),
(60, 18, '\n\n  <p><span style="font-family:&quot;Arial&quot;,&quot;sans-serif&quot;">\nПравильный\n  ответ</span>\n</p>\n\n  ', '', 1, 0, 0, ''),
(61, 18, '\n\n  <p><span style="font-family:&quot;Arial&quot;,&quot;sans-serif&quot;">\nНеправильный\n  ответ</span>\n</p>\n\n  ', '', 0, 0, 0, ''),
(62, 18, '\n\n  <p><span style="font-family:&quot;Arial&quot;,&quot;sans-serif&quot;">\nНеправильный\n  ответ</span>\n</p>\n\n  ', '', 0, 0, 0, ''),
(66, 20, '123', '123', 1, 0, 0, ''),
(67, 21, '\n\n  <p><span style="font-family:&quot;Arial&quot;,&quot;sans-serif&quot;">\nЗначение1</span>\n</p>\n\n  ', '     Соответствие1   +     ', 1, 0, 0, ''),
(68, 21, '\n\n  <p><span style="font-family:&quot;Arial&quot;,&quot;sans-serif&quot;">\nЗначение2</span>\n</p>\n\n  ', '     Соответствие2   +     ', 1, 0, 0, ''),
(69, 21, '\n\n  <p><span style="font-family:&quot;Arial&quot;,&quot;sans-serif&quot;">\nЗначение3</span>\n</p>\n\n  ', '     Соответствие  3   +     ', 1, 0, 0, ''),
(70, 21, '\n\n  <p><span style="font-family:&quot;Arial&quot;,&quot;sans-serif&quot;">\nЗначение4</span>\n</p>\n\n  ', '     Соответствие  5   -      ', 0, 0, 0, '');

-- --------------------------------------------------------

--
-- Структура таблицы `auth_log`
--

CREATE TABLE IF NOT EXISTS `auth_log` (
  `auth_log_id` int(11) NOT NULL AUTO_INCREMENT,
  `ip` varchar(255) COLLATE utf8_unicode_ci NOT NULL DEFAULT '',
  `post_login` varchar(255) COLLATE utf8_unicode_ci NOT NULL DEFAULT '',
  `post_password_hash` varchar(255) COLLATE utf8_unicode_ci NOT NULL DEFAULT '',
  `date` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `authorized` varchar(255) COLLATE utf8_unicode_ci NOT NULL DEFAULT '0',
  PRIMARY KEY (`auth_log_id`)
) ENGINE=MyISAM  DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci AUTO_INCREMENT=2 ;

--
-- Дамп данных таблицы `auth_log`
--

INSERT INTO `auth_log` (`auth_log_id`, `ip`, `post_login`, `post_password_hash`, `date`, `authorized`) VALUES
(1, '127.0.0.1', 'opentest', '13965f6847e8e1014cadff0768e4e7f1', '1364570104', '1');

-- --------------------------------------------------------

--
-- Структура таблицы `groups`
--

CREATE TABLE IF NOT EXISTS `groups` (
  `group_id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `group_category_id` int(10) unsigned NOT NULL DEFAULT '0',
  `group_name` varchar(254) COLLATE utf8_unicode_ci NOT NULL DEFAULT '',
  `group_disable` tinyint(1) unsigned NOT NULL DEFAULT '0',
  PRIMARY KEY (`group_id`),
  KEY `group_category_id` (`group_category_id`),
  KEY `group_disable` (`group_disable`)
) ENGINE=MyISAM  DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci AUTO_INCREMENT=1284 ;

--
-- Дамп данных таблицы `groups`
--

INSERT INTO `groups` (`group_id`, `group_category_id`, `group_name`, `group_disable`) VALUES
(1, 1, 'Администраторы', 0),
(1282, 10, 'Преподаватели', 0),
(1283, 9, 'Студенты', 0);

-- --------------------------------------------------------

--
-- Структура таблицы `group_categories`
--

CREATE TABLE IF NOT EXISTS `group_categories` (
  `group_category_id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `group_category_name` varchar(254) COLLATE utf8_unicode_ci NOT NULL DEFAULT '',
  PRIMARY KEY (`group_category_id`)
) ENGINE=MyISAM  DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci AUTO_INCREMENT=11 ;

--
-- Дамп данных таблицы `group_categories`
--

INSERT INTO `group_categories` (`group_category_id`, `group_category_name`) VALUES
(1, 'Администраторы'),
(9, 'Категория студентов'),
(10, 'Категория преподавателей');

-- --------------------------------------------------------

--
-- Структура таблицы `history_change_test`
--

CREATE TABLE IF NOT EXISTS `history_change_test` (
  `history_change_test_id` int(11) NOT NULL AUTO_INCREMENT,
  `test_id` int(11) NOT NULL DEFAULT '0',
  `question_id_old` int(11) NOT NULL DEFAULT '0',
  `question_id_new` int(11) NOT NULL DEFAULT '0',
  `action_code` tinyint(4) NOT NULL DEFAULT '0',
  `action_owner` int(11) NOT NULL DEFAULT '0',
  `date_change` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`history_change_test_id`),
  KEY `test_id` (`test_id`),
  KEY `question_id_old` (`question_id_old`),
  KEY `question_id_new` (`question_id_new`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci AUTO_INCREMENT=1 ;

-- --------------------------------------------------------

--
-- Структура таблицы `history_testing`
--

CREATE TABLE IF NOT EXISTS `history_testing` (
  `history_testing_id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `user_id` int(10) unsigned NOT NULL DEFAULT '0',
  `test_id` int(10) unsigned NOT NULL DEFAULT '0',
  `teacher_id` int(10) unsigned NOT NULL DEFAULT '0',
  `result_id` int(10) unsigned NOT NULL DEFAULT '0',
  `question_id` int(10) unsigned NOT NULL DEFAULT '0',
  `topic_id` int(10) unsigned NOT NULL DEFAULT '0',
  `question_type` tinyint(1) unsigned NOT NULL DEFAULT '0',
  `question_difficulty` tinyint(2) unsigned NOT NULL DEFAULT '0',
  `unit` float NOT NULL DEFAULT '0',
  `unit_difficulty` float NOT NULL DEFAULT '0',
  PRIMARY KEY (`history_testing_id`),
  KEY `user_id` (`user_id`),
  KEY `test_id` (`test_id`),
  KEY `teacher_id` (`teacher_id`),
  KEY `result_id` (`result_id`),
  KEY `question_id` (`question_id`),
  KEY `topic_id` (`topic_id`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci AUTO_INCREMENT=1 ;

-- --------------------------------------------------------

--
-- Структура таблицы `history_testing_answers`
--

CREATE TABLE IF NOT EXISTS `history_testing_answers` (
  `history_testing_answers_id` int(11) NOT NULL AUTO_INCREMENT,
  `history_testing_id` int(11) NOT NULL DEFAULT '0',
  `answer_id` int(11) NOT NULL DEFAULT '0',
  `true_percent` tinyint(3) unsigned NOT NULL DEFAULT '0',
  `answer_true` tinyint(1) unsigned NOT NULL DEFAULT '0',
  `selected_sample` varchar(254) COLLATE utf8_unicode_ci NOT NULL DEFAULT '',
  PRIMARY KEY (`history_testing_answers_id`),
  KEY `history_testing_id` (`history_testing_id`),
  KEY `answer_id` (`answer_id`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci AUTO_INCREMENT=1 ;

-- --------------------------------------------------------

--
-- Структура таблицы `media_refs`
--

CREATE TABLE IF NOT EXISTS `media_refs` (
  `ref_id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `referer_id` int(10) unsigned NOT NULL DEFAULT '0',
  `referer_type` tinyint(1) unsigned NOT NULL DEFAULT '0',
  `binary_filename` text COLLATE utf8_unicode_ci NOT NULL,
  PRIMARY KEY (`ref_id`),
  KEY `referer_id` (`referer_id`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci AUTO_INCREMENT=1 ;

-- --------------------------------------------------------

--
-- Структура таблицы `percentile`
--

CREATE TABLE IF NOT EXISTS `percentile` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `proc` int(10) unsigned NOT NULL,
  `value` double NOT NULL,
  PRIMARY KEY (`id`),
  KEY `proc` (`proc`)
) ENGINE=MyISAM  DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci AUTO_INCREMENT=100 ;

--
-- Дамп данных таблицы `percentile`
--

INSERT INTO `percentile` (`id`, `proc`, `value`) VALUES
(1, 1, -1.92),
(2, 2, -1.92),
(3, 3, -1.88),
(4, 4, -1.75),
(5, 5, -1.644),
(6, 6, -1.554),
(7, 7, -1.475),
(8, 8, -1.405),
(9, 9, -1.34),
(10, 10, -1.282),
(11, 11, -1.227),
(12, 12, -1.174),
(13, 13, -1.126),
(14, 14, -1.08),
(15, 15, -1.036),
(16, 16, -0.994),
(17, 17, -0.954),
(18, 18, -0.915),
(19, 19, -0.877),
(20, 20, -0.841),
(21, 21, -0.806),
(22, 22, -0.772),
(23, 23, -0.738),
(24, 24, -0.706),
(25, 25, -0.674),
(26, 26, -0.643),
(27, 27, -0.612),
(28, 28, -0.582),
(29, 29, -0.553),
(30, 30, -0.524),
(31, 31, -0.495),
(32, 32, -0.467),
(33, 33, -0.439),
(34, 34, -0.412),
(35, 35, -0.385),
(36, 36, -0.358),
(37, 37, -0.331),
(38, 38, -0.305),
(39, 39, -0.279),
(40, 40, -0.253),
(41, 41, -0.228),
(42, 42, -0.201),
(43, 43, -0.176),
(44, 44, -0.15),
(45, 45, -0.125),
(46, 46, -0.1),
(47, 47, -0.075),
(48, 48, -0.05),
(49, 49, -0.025),
(50, 50, 0),
(51, 51, 0.025),
(52, 52, 0.05),
(53, 53, 0.075),
(54, 54, 0.1),
(55, 55, 0.125),
(56, 56, 0.15),
(57, 57, 0.176),
(58, 58, 0.201),
(59, 59, 0.228),
(60, 60, 0.253),
(61, 61, 0.279),
(62, 62, 0.305),
(63, 63, 0.331),
(64, 64, 0.358),
(65, 65, 0.385),
(66, 66, 0.412),
(67, 67, 0.439),
(68, 68, 0.467),
(69, 69, 0.495),
(70, 70, 0.524),
(71, 71, 0.553),
(72, 72, 0.582),
(73, 73, 0.612),
(74, 74, 0.643),
(75, 75, 0.674),
(76, 76, 0.706),
(77, 77, 0.738),
(78, 78, 0.772),
(79, 78, 0.806),
(80, 80, 0.841),
(81, 81, 0.877),
(82, 82, 0.915),
(83, 83, 0.954),
(84, 84, 0.994),
(85, 85, 1.036),
(86, 86, 1.08),
(87, 87, 1.126),
(88, 88, 1.174),
(89, 89, 1.227),
(90, 90, 1.282),
(91, 91, 1.34),
(92, 92, 1.405),
(93, 93, 1.475),
(94, 94, 1.554),
(95, 95, 1.644),
(96, 96, 1.75),
(97, 97, 1.88),
(98, 98, 1.92),
(99, 99, 1.92);

-- --------------------------------------------------------

--
-- Структура таблицы `permissions`
--

CREATE TABLE IF NOT EXISTS `permissions` (
  `permission_id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `object_code` tinyint(4) unsigned NOT NULL DEFAULT '0',
  `object_id` int(10) unsigned NOT NULL DEFAULT '0',
  `user_id` int(10) unsigned NOT NULL DEFAULT '0',
  `group_id` int(10) unsigned NOT NULL DEFAULT '0',
  `group_category_id` int(10) unsigned NOT NULL DEFAULT '0',
  `permission_read` tinyint(1) unsigned NOT NULL DEFAULT '0',
  `permission_write` tinyint(1) unsigned NOT NULL DEFAULT '0',
  `permission_execute` tinyint(1) unsigned NOT NULL DEFAULT '0',
  `permission_modify` tinyint(1) unsigned NOT NULL DEFAULT '0',
  `permission_owner` tinyint(1) unsigned NOT NULL DEFAULT '0',
  PRIMARY KEY (`permission_id`),
  KEY `object_code` (`object_code`),
  KEY `object_id` (`object_id`),
  KEY `user_id` (`user_id`),
  KEY `group_id` (`group_id`),
  KEY `group_category_id` (`group_category_id`)
) ENGINE=MyISAM  DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci AUTO_INCREMENT=480 ;

--
-- Дамп данных таблицы `permissions`
--

INSERT INTO `permissions` (`permission_id`, `object_code`, `object_id`, `user_id`, `group_id`, `group_category_id`, `permission_read`, `permission_write`, `permission_execute`, `permission_modify`, `permission_owner`) VALUES
(5, 5, 5, 0, 0, 1, 0, 0, 0, 0, 1),
(462, 13, 1, 0, 0, 1, 0, 0, 0, 0, 1),
(461, 11, 1, 0, 0, 1, 0, 0, 0, 0, 1),
(469, 13, 9, 1, 0, 0, 1, 1, 0, 0, 1),
(477, 12, 6, 1, 0, 0, 0, 0, 0, 0, 1),
(470, 13, 9, 0, 0, 1, 1, 1, 0, 0, 1),
(471, 13, 10, 1, 0, 0, 1, 1, 0, 0, 1),
(472, 13, 10, 0, 0, 1, 1, 1, 0, 0, 1),
(473, 13, 9, 0, 0, 10, 1, 0, 0, 0, 0),
(474, 14, 1282, 1, 0, 0, 1, 1, 1, 0, 1),
(475, 14, 1283, 1, 0, 0, 1, 1, 1, 0, 1);

-- --------------------------------------------------------

--
-- Структура таблицы `prepared_answers`
--

CREATE TABLE IF NOT EXISTS `prepared_answers` (
  `prepared_answer_id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `prepared_question_id` int(10) unsigned NOT NULL DEFAULT '0',
  `answer_id` int(10) unsigned NOT NULL DEFAULT '0',
  `selected` tinyint(1) unsigned NOT NULL DEFAULT '0',
  `answer_sample` varchar(254) COLLATE utf8_unicode_ci NOT NULL DEFAULT '',
  `selected_sample` varchar(254) COLLATE utf8_unicode_ci NOT NULL DEFAULT '',
  `answer_true` tinyint(1) unsigned NOT NULL DEFAULT '0',
  `true_percent` tinyint(3) unsigned NOT NULL DEFAULT '0',
  PRIMARY KEY (`prepared_answer_id`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci AUTO_INCREMENT=1 ;

-- --------------------------------------------------------

--
-- Структура таблицы `prepared_questions`
--

CREATE TABLE IF NOT EXISTS `prepared_questions` (
  `prepared_question_id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `test_id` int(10) unsigned NOT NULL DEFAULT '0',
  `user_id` int(10) unsigned NOT NULL DEFAULT '0',
  `teacher_id` int(10) unsigned NOT NULL DEFAULT '0',
  `topic_id` int(10) unsigned NOT NULL DEFAULT '0',
  `question_id` int(10) unsigned NOT NULL DEFAULT '0',
  `question_type` tinyint(1) unsigned NOT NULL DEFAULT '0',
  `marker` tinyint(1) unsigned NOT NULL DEFAULT '0',
  `number` tinyint(3) unsigned NOT NULL DEFAULT '0',
  `answers_is_show` tinyint(1) unsigned NOT NULL DEFAULT '0',
  `question_difficulty` tinyint(2) unsigned NOT NULL DEFAULT '1',
  PRIMARY KEY (`prepared_question_id`),
  KEY `test_id` (`test_id`),
  KEY `user_id` (`user_id`),
  KEY `teacher_id` (`teacher_id`),
  KEY `topic_id` (`topic_id`),
  KEY `question_id` (`question_id`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci AUTO_INCREMENT=1 ;

-- --------------------------------------------------------

--
-- Структура таблицы `questions`
--

CREATE TABLE IF NOT EXISTS `questions` (
  `question_id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `topic_id` int(10) unsigned NOT NULL DEFAULT '0',
  `question_text` text COLLATE utf8_unicode_ci NOT NULL,
  `question_type` tinyint(1) unsigned NOT NULL DEFAULT '0',
  `question_disable` tinyint(1) unsigned NOT NULL DEFAULT '1',
  `show_later` tinyint(1) unsigned NOT NULL DEFAULT '0',
  `question_difficulty` tinyint(2) unsigned NOT NULL DEFAULT '1',
  PRIMARY KEY (`question_id`),
  KEY `topic_id` (`topic_id`),
  KEY `question_type` (`question_type`)
) ENGINE=MyISAM  DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci AUTO_INCREMENT=27 ;

--
-- Дамп данных таблицы `questions`
--

INSERT INTO `questions` (`question_id`, `topic_id`, `question_text`, `question_type`, `question_disable`, `show_later`, `question_difficulty`) VALUES
(18, 8, '\n\n  <p><span style="font-family:&quot;Arial&quot;,&quot;sans-serif&quot;">\nТекст\n  вопроса 1 </span>\n</p>\n\n  ', 1, 0, 0, 2),
(19, 8, '\n\n  <p><span style="font-family:&quot;Arial&quot;,&quot;sans-serif&quot;">\nТекст\n  вопроса 2</span>\n</p>\n\n  ', 2, 0, 0, 2),
(20, 8, '  <p><span style="font-family:&quot;Arial&quot;,&quot;sans-serif&quot;">Текст  вопроса 3 (ответ 123)</span></p>  <p><span style="font-family:&quot;Arial&quot;,&quot;sans-serif&quot;">[_A66] </span></p>  ', 3, 0, 0, 2),
(21, 8, '\n\n  <p><span style="font-family:&quot;Arial&quot;,&quot;sans-serif&quot;">\nТекст\n  вопроса 4</span>\n</p>\n\n  ', 4, 0, 0, 2);

-- --------------------------------------------------------

--
-- Структура таблицы `recent_objects`
--

CREATE TABLE IF NOT EXISTS `recent_objects` (
  `recent_id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `object_code` tinyint(1) unsigned NOT NULL DEFAULT '0',
  `object_category_id` int(10) unsigned NOT NULL DEFAULT '0',
  `object_id` int(10) unsigned NOT NULL DEFAULT '0',
  `user_id` int(10) unsigned NOT NULL DEFAULT '0',
  `last_used` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`recent_id`),
  KEY `object_code` (`object_code`),
  KEY `object_category_id` (`object_category_id`),
  KEY `object_id` (`object_id`),
  KEY `user_id` (`user_id`)
) ENGINE=MyISAM  DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci AUTO_INCREMENT=5 ;

--
-- Дамп данных таблицы `recent_objects`
--

INSERT INTO `recent_objects` (`recent_id`, `object_code`, `object_category_id`, `object_id`, `user_id`, `last_used`) VALUES
(4, 0, 1, 6, 1, '2013-03-29 15:18:23');

-- --------------------------------------------------------

--
-- Структура таблицы `results`
--

CREATE TABLE IF NOT EXISTS `results` (
  `result_id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `user_id` int(10) unsigned NOT NULL DEFAULT '0',
  `test_id` int(10) unsigned NOT NULL DEFAULT '0',
  `group_id` int(10) unsigned NOT NULL DEFAULT '0',
  `teacher_id` int(10) unsigned NOT NULL DEFAULT '0',
  `mark` tinyint(3) unsigned NOT NULL DEFAULT '0',
  `start_datetime` datetime NOT NULL DEFAULT '0000-00-00 00:00:00',
  `stop_datetime` datetime NOT NULL DEFAULT '0000-00-00 00:00:00',
  `time_of_test` int(11) NOT NULL DEFAULT '0',
  `average_alternative` float unsigned NOT NULL DEFAULT '0',
  `percent` float NOT NULL DEFAULT '0',
  `percent_simple` float NOT NULL DEFAULT '0',
  `hide_result` tinyint(1) unsigned NOT NULL DEFAULT '0',
  `total_unit` float unsigned NOT NULL DEFAULT '0',
  PRIMARY KEY (`result_id`),
  KEY `user_id` (`user_id`),
  KEY `test_id` (`test_id`),
  KEY `group_id` (`group_id`),
  KEY `teacher_id` (`teacher_id`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci AUTO_INCREMENT=1 ;

-- --------------------------------------------------------

--
-- Структура таблицы `sessions`
--

CREATE TABLE IF NOT EXISTS `sessions` (
  `session_id` int(11) NOT NULL AUTO_INCREMENT,
  `user_id` int(11) NOT NULL DEFAULT '0',
  `test_id` int(11) NOT NULL DEFAULT '0',
  `group_id` int(11) NOT NULL DEFAULT '0',
  `teacher_id` int(11) NOT NULL DEFAULT '0',
  `start_test_time` datetime NOT NULL DEFAULT '0000-00-00 00:00:00',
  `num_questions` int(10) unsigned NOT NULL DEFAULT '0',
  `last_prepared_question_id` int(11) NOT NULL DEFAULT '0',
  `check_number` int(11) NOT NULL DEFAULT '0',
  `question_type` tinyint(4) NOT NULL DEFAULT '0',
  `start_show_answers` datetime NOT NULL DEFAULT '0000-00-00 00:00:00',
  `show_later` tinyint(4) NOT NULL DEFAULT '0',
  `last_log_host` varchar(254) COLLATE utf8_unicode_ci NOT NULL DEFAULT '',
  `last_log_date` datetime NOT NULL DEFAULT '0000-00-00 00:00:00',
  PRIMARY KEY (`session_id`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci AUTO_INCREMENT=1 ;

-- --------------------------------------------------------

--
-- Структура таблицы `tests`
--

CREATE TABLE IF NOT EXISTS `tests` (
  `test_id` int(11) unsigned NOT NULL AUTO_INCREMENT,
  `test_category_id` int(10) unsigned NOT NULL DEFAULT '0',
  `test_name` varchar(254) COLLATE utf8_unicode_ci NOT NULL DEFAULT '',
  `test_disable` tinyint(1) unsigned NOT NULL DEFAULT '1',
  PRIMARY KEY (`test_id`)
) ENGINE=MyISAM  DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci AUTO_INCREMENT=9 ;

--
-- Дамп данных таблицы `tests`
--

INSERT INTO `tests` (`test_id`, `test_category_id`, `test_name`, `test_disable`) VALUES
(6, 1, 'Пример теста', 0);

-- --------------------------------------------------------

--
-- Структура таблицы `test_access`
--

CREATE TABLE IF NOT EXISTS `test_access` (
  `test_access_id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `test_id` int(10) unsigned NOT NULL DEFAULT '0',
  `user_id` int(10) unsigned NOT NULL DEFAULT '0',
  `group_id` int(10) unsigned NOT NULL DEFAULT '0',
  `teacher_id` int(10) unsigned NOT NULL DEFAULT '0',
  `num_try` tinyint(3) unsigned NOT NULL DEFAULT '0',
  `num_questions` tinyint(3) unsigned NOT NULL DEFAULT '0',
  `test_time` tinyint(4) unsigned NOT NULL DEFAULT '0',
  `start_status` tinyint(1) unsigned NOT NULL DEFAULT '0',
  `status_date` datetime NOT NULL DEFAULT '0000-00-00 00:00:00',
  `user_ip` varchar(20) COLLATE utf8_unicode_ci NOT NULL DEFAULT '',
  `start_type` tinyint(1) unsigned NOT NULL DEFAULT '1',
  `last_status` tinyint(1) unsigned NOT NULL DEFAULT '0',
  `last_end_test_status` tinyint(1) unsigned NOT NULL DEFAULT '0',
  `hide_result` tinyint(1) unsigned NOT NULL DEFAULT '0',
  PRIMARY KEY (`test_access_id`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci AUTO_INCREMENT=1 ;

-- --------------------------------------------------------

--
-- Структура таблицы `test_categories`
--

CREATE TABLE IF NOT EXISTS `test_categories` (
  `test_category_id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `test_category_name` varchar(254) COLLATE utf8_unicode_ci NOT NULL DEFAULT '',
  PRIMARY KEY (`test_category_id`)
) ENGINE=MyISAM  DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci AUTO_INCREMENT=3 ;

--
-- Дамп данных таблицы `test_categories`
--

INSERT INTO `test_categories` (`test_category_id`, `test_category_name`) VALUES
(1, 'Примеры тестов');

-- --------------------------------------------------------

--
-- Структура таблицы `test_info`
--

CREATE TABLE IF NOT EXISTS `test_info` (
  `test_id` int(11) unsigned NOT NULL DEFAULT '0',
  `user_id` int(11) unsigned DEFAULT NULL,
  `update_time` int(10) unsigned DEFAULT NULL,
  PRIMARY KEY (`test_id`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

--
-- Дамп данных таблицы `test_info`
--

INSERT INTO `test_info` (`test_id`, `user_id`, `update_time`) VALUES
(6, 1, 1364570360);

-- --------------------------------------------------------

--
-- Структура таблицы `test_passwords`
--

CREATE TABLE IF NOT EXISTS `test_passwords` (
  `test_password_id` int(11) NOT NULL AUTO_INCREMENT,
  `test_id` int(11) NOT NULL DEFAULT '0',
  `group_id` int(11) NOT NULL DEFAULT '0',
  `teacher_id` int(10) unsigned NOT NULL DEFAULT '0',
  `test_password` varchar(200) COLLATE utf8_unicode_ci NOT NULL DEFAULT '',
  PRIMARY KEY (`test_password_id`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci AUTO_INCREMENT=1 ;

-- --------------------------------------------------------

--
-- Структура таблицы `test_scale`
--

CREATE TABLE IF NOT EXISTS `test_scale` (
  `test_scale_id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `test_id` int(11) NOT NULL DEFAULT '0',
  `mark_2` float(10,2) NOT NULL DEFAULT '0.00',
  `mark_3` float(10,2) NOT NULL DEFAULT '0.00',
  `mark_4` float(10,2) NOT NULL DEFAULT '0.00',
  `mark_5` float(10,2) NOT NULL DEFAULT '0.00',
  `mark_1_label` varchar(255) COLLATE utf8_unicode_ci NOT NULL DEFAULT '',
  `mark_2_label` varchar(255) COLLATE utf8_unicode_ci NOT NULL DEFAULT '',
  `mark_3_label` varchar(255) COLLATE utf8_unicode_ci NOT NULL DEFAULT '',
  `mark_4_label` varchar(255) COLLATE utf8_unicode_ci NOT NULL DEFAULT '',
  `mark_5_label` varchar(255) COLLATE utf8_unicode_ci NOT NULL DEFAULT '',
  PRIMARY KEY (`test_scale_id`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci AUTO_INCREMENT=1 ;

-- --------------------------------------------------------

--
-- Структура таблицы `tmp_users`
--

CREATE TABLE IF NOT EXISTS `tmp_users` (
  `tmp_user_id` int(11) NOT NULL AUTO_INCREMENT,
  `facultet` varchar(255) COLLATE utf8_unicode_ci NOT NULL DEFAULT '',
  `user_name` varchar(255) COLLATE utf8_unicode_ci NOT NULL DEFAULT '',
  `group_name` varchar(255) COLLATE utf8_unicode_ci NOT NULL DEFAULT '',
  `col1` varchar(255) COLLATE utf8_unicode_ci NOT NULL DEFAULT '',
  PRIMARY KEY (`tmp_user_id`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci AUTO_INCREMENT=1 ;

-- --------------------------------------------------------

--
-- Структура таблицы `topics`
--

CREATE TABLE IF NOT EXISTS `topics` (
  `topic_id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `topic_name` varchar(254) COLLATE utf8_unicode_ci NOT NULL DEFAULT '',
  `test_id` int(10) unsigned NOT NULL DEFAULT '0',
  `topic_disable` tinyint(1) unsigned NOT NULL DEFAULT '1',
  PRIMARY KEY (`topic_id`)
) ENGINE=MyISAM  DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci AUTO_INCREMENT=13 ;

--
-- Дамп данных таблицы `topics`
--

INSERT INTO `topics` (`topic_id`, `topic_name`, `test_id`, `topic_disable`) VALUES
(8, '\n\n  \nНазвание\n  темы \n\n\n  ', 6, 0);

-- --------------------------------------------------------

--
-- Структура таблицы `users`
--

CREATE TABLE IF NOT EXISTS `users` (
  `user_id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `group_id` int(10) unsigned NOT NULL DEFAULT '0',
  `user_name` varchar(254) COLLATE utf8_unicode_ci NOT NULL DEFAULT '',
  `user_login` varchar(25) COLLATE utf8_unicode_ci NOT NULL DEFAULT '',
  `user_password` varchar(252) COLLATE utf8_unicode_ci NOT NULL DEFAULT '',
  `last_log_date` datetime NOT NULL DEFAULT '0000-00-00 00:00:00',
  `last_log_host` varchar(254) COLLATE utf8_unicode_ci NOT NULL DEFAULT '',
  `user_disable` tinyint(1) unsigned NOT NULL DEFAULT '0',
  `user_cant_change_pass` tinyint(1) unsigned NOT NULL DEFAULT '0',
  `last_log_hash` varchar(255) COLLATE utf8_unicode_ci NOT NULL DEFAULT '',
  `asu_user_id` int(10) unsigned NOT NULL DEFAULT '0',
  PRIMARY KEY (`user_id`),
  KEY `group_id` (`group_id`)
) ENGINE=MyISAM  DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci AUTO_INCREMENT=27035 ;

--
-- Дамп данных таблицы `users`
--

INSERT INTO `users` (`user_id`, `group_id`, `user_name`, `user_login`, `user_password`, `last_log_date`, `last_log_host`, `user_disable`, `user_cant_change_pass`, `last_log_hash`, `asu_user_id`) VALUES
(1, 1, 'Администратор', 'opentest', 'opentest', '2013-03-29 17:19:52', '', 0, 0, '132849565', 0),
(27033, 1282, 'Преподаватель 1', 'p1', 'p1', '0000-00-00 00:00:00', '', 0, 0, '', 0),
(27034, 1283, 'Студент 1', '', '', '0000-00-00 00:00:00', '', 0, 0, '', 0);

/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
